<%= stylesheet_link_tag 'recepis', media: 'all' %>
<% @page_title = 'New Recipe' %>
<%= render "layouts/sidebar" %>

<div class="offset-1">
  <div class="chapter-name">
    <h2><strong>New Recipe</strong></h2>
  </div>
</div>

<div class="offset-2">
  <%= form_with(model: @recepi, local: true) do |f| %>
    <table class="table table-borderless col-sm-6">
      <tr>
        <th></th>
      </tr>
      <tr>
        <td><strong>＜タイトル＞</strong></td>
      </tr>
        <tr><td><%= f.text_field :recepi_title, autofocus: true, placeholder: "＜タイトルを入力してください(32文字以内)＞", size: "50" %></td></tr>

      <tr>
        <td><strong>＜材料＞</strong></td>
      </tr>
      <tr>
        <%= f.fields_for :recepi_ingredients do |t| %>
          <%= render "recepis/recepi_ingredient_fields", f: t %>
        <% end %>
      </tr>
        <tr class="recepi_ingredients"></tr>
        <tr>
          <th class="col-sm-6"></th>
          <td class="links">
            <%= link_to_add_association "＋", f, :recepi_ingredients, class: "btn btn-outline-success rounded-pill",
              data: {
              association_insertion_node: '.recepi_ingredients', # モデル名 材料をcocoonで増やす
              association_insertion_method: 'before' # 追加するときどこに増やすかを指定
              } %>
          </td>
        </tr>

      <tr>
        <td><strong>＜作り方＞</strong></td>
      </tr>
      <tr>
        <%= f.fields_for :how_to_makes do |t| %>
          <%= render "recepis/how_to_make_fields", f: t %>
        <% end %>
      </tr>
      <tr class="how_to_makes"></tr>
      <tr>
        <th class="col-sm-6"></th>
        <td class="links">
          <%= link_to_add_association "＋", f, :how_to_makes, class: "btn btn-outline-success rounded-pill",
            data: {
            association_insertion_node: '.how_to_makes', # モデル名 作り方をcocoonで増やす
            association_insertion_method: 'before'
            } %>
        </td>
      </tr>

      <tr>
        <td><strong>＜タグ＞</strong></td>
      </tr>
      <tr>
        <%= f.fields_for :tags do |t| %>
          <%= render "recepis/tag_fields", f: t %>
        <% end %>
      </tr>
      <tr class="tags"></tr>
        <tr>
          <th class="col-sm-6"></th>
          <td class="links">
            <%= link_to_add_association "＋", f, :tags, class: "btn btn-outline-success rounded-pill",
              data: {
              association_insertion_node: '.tags', # モデル名 作り方をcocoonで増やす
              association_insertion_method: 'before'
              } %>
          </td>
        </tr>
      <tr>
        <td><%= f.attachment_field :recepi_image %></td>
      </tr>
      <tr>
        <td><%= f.submit "レシピ作成", class: "btn btn-primary rounded-pill px-4" %></td>
      </tr>
    </table>
  <% end %>
</div>